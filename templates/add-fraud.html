<!DOCTYPE html>
<html>
    {% load static %}
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel = "icon" href ="{% static 'img/logo.png'%}" type = "image/x-icon"> 
    


    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="https://backoffice.mirrikh.com/assets/users/images/caption_icon.png">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />

    
    <!-- Ionicons -->
    <!-- <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/css/ionicons.min.css"> -->
     
    <!-- overlayScrollbars imp-->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/3.2.0/css/adminlte.min.css"> -->
    <!-- <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/theme/dist/css/adminlte.min.css"> -->
     <link rel="stylesheet" href="{% static 'css/adminlte.min.css'%}">

    <!-- Google Font: Source Sans Pro -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
    

    <!-- <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet"> -->

    <!-- Tempusdominus Bbootstrap 4 -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.39.0/css/tempusdominus-bootstrap-4.min.css">
    <!-- <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/theme/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css"> -->


   
    <!--  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datatables.net-bs4/1.11.2/dataTables.bootstrap4.css">
    <!-- <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/theme/plugins/datatables-bs4/css/dataTables.bootstrap4.css"> -->

    <!-- iCheck -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/icheck-bootstrap/3.0.1/icheck-bootstrap.min.css">
    <!-- <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/theme/plugins/icheck-bootstrap/icheck-bootstrap.min.css"> -->


    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/theme/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/overlayscrollbars/2.10.1/styles/overlayscrollbars.min.css"> -->

    <!-- Daterange picker -->
    <!-- <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/theme/plugins/daterangepicker/daterangepicker.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.0.5/daterangepicker.min.css">
    <!-- summernote -->





    
    <!-- <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/theme/plugins/summernote/summernote-bs4.css"> -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.9.1/summernote-bs4.css">


    <!-- <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/css/sweetalert.min.css"> -->
   <link rel="stylesheet" href="{% static 'css/sweetalert.min.css'%}">


    <!-- <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/css/bootstrap-datepicker.css"> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.10.0/css/bootstrap-datepicker.min.css"> -->
    <link rel="stylesheet" href="{% static 'css/bootstrap-datepicker.css'%}">



    <!-- <link rel="stylesheet" type="text/css" href="https://backoffice.mirrikh.com/assets/css/daterangepicker.css" /> -->
      <link rel="stylesheet" href="{% static 'css/daterangepicker.css'%}">


    <!-- <link rel="stylesheet" type="text/css" href="https://backoffice.mirrikh.com/assets/css/magnific-popup.min.css" />  -->
    <link rel="stylesheet" href="{% static 'css/magnific-popup.min.css'%}">


    <!-- <link rel="stylesheet" href="https://backoffice.mirrikh.com/assets/css/tree.css">  -->
          <link rel="stylesheet" href="{% static 'css/tree.css'%}">




          <!-- js files -->

    <!-- <script src="https://backoffice.mirrikh.com/assets/theme/plugins/jquery/jquery.min.js"></script> -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


    <!-- <script type="text/javascript" src="https://backoffice.mirrikh.com/assets/js/popper.min.js"></script> -->
     <script  type="text/javascript" src="{% static 'JS/popper.min.js'%}"></script>


     
    <!-- <script src="https://backoffice.mirrikh.com/assets/js/jquery.validate.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>

    

    <!-- <script src="https://backoffice.mirrikh.com/assets/js/sweetalert.min.js"></script> -->
    <script src="{% static 'JS/sweetalert.min.js'%}"></script>




    <!-- <script type="text/javascript" src="https://backoffice.mirrikh.com/assets/js//plugins/bootstrap-datepicker.min.js"></script> -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.5.0/js/bootstrap-datepicker.min.js"></script>

    <!-- <script type="text/javascript" src="https://backoffice.mirrikh.com/assets/js/moment.min.js"></script> -->
   <script  type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>


    <!-- <script type="text/javascript" src="https://backoffice.mirrikh.com/assets/js/daterangepicker.min.js"></script> -->
    <script src="{% static 'JS/daterangepicker.min.js'%}"></script>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js" ></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css" >
    <!-- <script type="text/javascript" src="https://backoffice.mirrikh.com/assets/js/jquery.magnific-popup.min.js"></script> -->
    
    
<!---->
    <style>



      .error {
        color: red;
        font-weight: normal !important;
      }

      .success {
        color: green
      }

      .ribbon-wrapper {
        height: 70px;
        /* overflow: hidden; */
        position: absolute;
        left: -49px;
        top: -2px;
        width: 110px;
        z-index: 10;
      }

      .ribbon-wrapper .ribbon {
        box-shadow: 0 0 3px rgba(0, 0, 0, .3);
        font-size: .8rem;
        line-height: 100%;
        padding: .375rem 0;
        position: relative;
        left: 0;
        text-align: center;
        text-shadow: 0 -1px 0 rgba(0, 0, 0, .4);
        text-transform: uppercase;
        top: 8px;
        -webkit-transform: rotate(45deg);
        transform: rotate(-45deg);
        width: 132px;
      }
      .loader {
    position: fixed;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
    z-index: 9999;
    background: url('https://backoffice.mirrikh.com/assets/imgs/loader.gif') 50% 50% no-repeat rgb(249,249,249);
    opacity: .8;
}

.sidebar-mini.sidebar-collapse .logo{
    display:none;
}
.right_menu .dropdown-menu {
    left: -150px!important;
    right: 50px!important;
}
.right_menu .dropdown-toggle::after{
    content:none!important;
}
.right_menu .dropdown-toggle{
    color:#6c757d;
}
.mt-15{
    margin-top:15px;
}
.mt-30{
    margin-top:30px;
}

.eml{
      word-break: break-all;
    }

.banner_gold .nav-link{
  font-size: 16px;
}
@media(max-width:767.98px){
    .pin_request_form .small-box{text-align:left!important;}
    .rmb-15{margin-bottom:15px;}
    .rmt-15{margin-top:15px!important;}
    
}

@media(max-width:675px){
  .rmt-8{
    margin-top:8.5rem!important;
  }
}
.w-140{
    width:140px;
}
.call_box{
  display: flex;
  align-items: center;
  position: relative;
  z-index: 1;
}
.call_box i{
  font-size: 20px;
  color: #232b38;
}
.c_detail p{
  color: #232b38;
  font-size: 15px;
  font-weight: 900;
  margin-bottom: 0;
}
.c_detail span{
  color: #2d2d2d;
  font-size: 13px;
  font-weight: 500;
}
.call_box.work{
  justify-content: flex-end;
}
.navbar-light {
    background-color: transparent;
}
.navbar-light .navbar-nav .nav-link {
    color: #fff!important;
}
.navbar-light .navbar-nav .nav-link:focus, .navbar-light .navbar-nav .nav-link:hover {
    color: #fff!important;
}
.right_menu .navbar-nav .nav-link {
    color: #000!important;
}
.right_menu .navbar-nav .nav-link:focus, .right_menu .navbar-nav .nav-link:hover {
    color: #fea900!important;
}
.breadcrumb-item a{color:#000;}
.breadcrumb-item a:hover{color:#fea900;}
.text-blue{
  color: #f9bd05;
  font-weight: 700;
}
.leadership {
  position: absolute;
  left:50%;
  top:13px;
  transform: translateX(-50%);
}
.logo-demo:after {
    background-size: 75%;
    background-repeat: no-repeat;
    content: "";
    position: absolute;
    top: -190px;
    left: -100px;
    width: 520px;
    height: 390px;
    z-index: -1;
    cursor: auto;
    background: url(https://backoffice.mirrikh.com/assets/images/logo-bg.png);
}
.main_logo_mirrikh {
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding: 6px;
    /*background: rgb(255 255 255);*/
    border-radius: 5px;
    margin: 8px;
}
@media(min-width: 768px){
.leadership > div{
  margin-right: 25px;
}
}

.blinking{
    animation:blinkingText 1.2s infinite;
}
@keyframes blinkingText{
    0%{     color: #0548bd;    }
    49%{    color: #0548bd; }
    60%{    color: transparent; }
    99%{    color:transparent;  }
    100%{   color: #0548bd;    }
}

.head-color{
color: white;
background-color: rgb(0 0 0 / 32%);
}
    </style>

  </head>
  <body class="hold-transition sidebar-mini">
    <div class="loader" style="display: none"></div>
  <div id="loadingGif" style="display:none;position: fixed;z-index: 
  1111;left: 0;right: 0;height: 100vh;background-color: #ffffffcf;">
  <img src="https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif" 
  style="position: absolute;top: 50%;left: 50%;transform: translate(-50%,-50%);"></div>

 
      <!-- Site wrapper -->
  <!--    <div class="banner_gold">-->
  <!--          <div class="middle-bar position-relative py-4">-->
  <!--         <div class="container-fluid">-->
  <!--    <div class="row justify-content-center align-items-center">-->
  <!--      <div class="col-lg-2 col-md-8 col-6 rmb-15">-->
  <!--        <a href="https://smartwinglobal.com">-->
            <!-- <img src="https://backoffice.mirrikh.com/assets/images/logo-icon-new.png" class="img-fluid  d-block w-140 mx-auto"> -->
  <!--          Mirrikh-->
  <!--        </a>-->
  <!--      </div>-->
  <!--      <div class="col-lg-7 col-md-4 col-6 rmb-15 search_box">-->
  <!--                  <nav class="navbar navbar-expand-lg navbar-light">-->
  <!--                <div class="container">-->
  <!--                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">-->
  <!--                      <span class="navbar-toggler-icon"></span>-->
  <!--                    </button>-->
  <!--                    <div class="collapse navbar-collapse" id="navbarNav">-->
  <!--          <ul class="navbar-nav mx-auto position-relative"></ul>-->
  <!--          </ul>-->
  <!--        </div>-->
  <!--                </div>-->
  <!--              </nav>-->
  <script>
              $(document).ready(function(){
                $('.toast').toast('show');
              });
              </script> 
  <!--      </div>-->

           <!--      <div class="col-lg-3 col-md-12">-->
  <!--        <div class="call_box work">-->
  <!--          <i class="fas fa-envelope text-white mr-3"></i>-->
  <!--          <div class="c_detail">-->
  
               <!-- </div> -->



              
  <!--      <a class="eml text-white" href="https://smartwinglobal.com/contact-us" target="_blank">customercare@test.com</a>-->
              <!--span></span-->
             
              	       
  <!--          </div>-->
  <!--         </div>-->
  <!--      </div>-->
  <!--    </div>-->
  <!--  </div>-->
  <!--</div>-->
  <!--    </div>-->

  <div class="col-lg-12 col-md-12" >
      <div class="position-relative">
       <div class="leadership d-flex flex-md-row flex-column">
         
      </div>
      <div class="wrapper position-relative">
        </div>

      </div>
       <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light bg-light" style="display:flex;">

         
          <!-- Left navbar links -->
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
            </li>
          </ul>
          
          <div style="margin-left:auto;text-decoration:none" class="right_menu">
               <ul class="navbar-nav">
                    
                    
                    
                    	<li class="dropdown notifications-menu open">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                    <i class="fas fa-bell"></i>
                    <span class="label label-warning">0</span>
                  </a>
  

                  <ul class="dropdown-menu text-center p-0" class="border-custom">
                    <li class="header text-center">You have 0 notifications</li>
                    <li>
                      <!-- inner menu: contains the actual data -->
                      <ul class="menu pl-0">

                                                
                      </ul>
                    </li>
                    <li class="footer"><a href="">View all</a></li>
                  </ul>


                </li>
                    <!--<li class="nav-item">-->
                    <!--  <a class="nav-link" href="https://backoffice.mirrikh.com/user/Profile">My Profile</a>-->
                    <!--</li>-->
                    <!--<li class="nav-item">-->
                    <!--  <a class="nav-link" href="https://backoffice.mirrikh.com/user/Change_Password">Change Password</a>-->
                    <!--</li>-->
                    <!--<li class="nav-item">-->
                    <!--  <a class="nav-link" href="https://backoffice.mirrikh.com/user/Login/userlogout">Logout</a>-->
                    <!--</li>-->
                 <div class="collapse navbar-collapse header_drop" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <!--123-->

                          <img src="{% static 'img/images.png'%}" class="img-circle" alt="User Image" style="max-width:100%;height: 100%;">
                      </a>
          <!-- Here's the magic. Add the .animate and .slide-in classes to your .dropdown-menu and you're all set! -->
          <div class="dropdown-menu dropdown-menu-right animate slideIn" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="/logout">Logout</a>
          </div>
        </li>
      </ul>
    </div>
                </ul>
      
          
          </div>

        </nav>
        <!-- Navbar -->



        <!-- Main Sidebar Container -->
        <aside class="main-sidebar elevation-4">
          <!--<img src="https://backoffice.mirrikh.com/assets/imgs/logo.jpg" alt="SECOURS" height="34px" width="150px" class="logo">-->


          <!-- Sidebar -->
          <div class="sidebar">
            <div class="main_logo_mirrikh logo-demo">
							<div class="inner_logo" style="margin-top:20px;">
              <img src="{% static 'img/images.png'%}" class="img-fluid display_pro" style="max-height:100px;">
							<!-- <img src="https://backoffice.mirrikh.com/assets/imgs/mirrikh-logo-gif.gif" class="img-fluid" style="max-height:34px;margin-top:-8px;margin-left:-44px;position:absolute"> -->
							</div>
          </div>
            <div class="user-panel mt-3 pb-3 mb-3 d-flex">

              <div class="image">

                                <img src="{% static 'img/profile_1.png'%}" class="img-circle elevation-2" alt="User Image">
                            </div>

              <div class="info">
                <a href="#" class="d-block">{{name}}</a>
              </div>

            </div>


             <!-- Sidebar Menu -->

            <nav class="mt-2">
              <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">


                <li class="nav-item menu-open">
                  <a href="/home"  class="nav-link" >
                    <i class="nav-icon fas fa-tachometer-alt"></i>
                    <p>Dashboard</p>
                  </a>
                </li>


            
                
              



                

                
              

              
              <!-- khushali start -->
              <li class="nav-item " >
                  <a href="/add-fraud" class="nav-link head-color" style="">
                    <i class="nav-icon fas fa-map-pin"></i>
                    <p>Add Fraud</p>
                  </a>
                </li>
              <!-- khushali start -->              
              <li class="nav-item ">
                  <a href="/upload" class="nav-link " style="">
                    <i class="nav-icon fas fa-file"></i>
                    <p>Upload Statement</p>
                  </a>
                </li>
                
               




               
               


                

            

         

              </ul>
            </nav>
             <!-- Sidebar Menu -->

          </div>
          <!-- Sidebar -->


        </aside>
        <!-- Main Sidebar Container -->

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
       
          <style>
.text-muted{
    word-break: break-word;
}
</style>
<title>Add Fraud</title>

<section class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1>Add Fraud</h1>
        </div>
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item active">Add Fraud</li>
          </ol>
        </div>
      </div>
    </div><!-- /.container-fluid -->
  </section>
  <section class="content">

    <div class="row">
        <div class="col-12">
            <div class="card card-danger card-outline">
                <div class="card-header">
                    <h3 class="card-title"> Add Fraud</h3>
                </div>
                <div class="card-body">
                <form method="post" id="pin_request_form" enctype="multipart/form-data">
                <div class="row">
                    <form id="pin_request_form" method="post" enctype="multipart/form-data" action="add-fraud">
                    {% csrf_token %}
                    <div class="col-sm-12 col-xs-12 col-md-4 col-lg-4">
                    <label class="label">Select Type<span class="text-danger">*</span></label>
                    <select id="fraud_type" name="fraud_type" class="form-control">
                    <option value="">Select Type</option>
                        <option value="1" data-booking="0">Mobile Number</option>
                        <option value="2" data-booking="1">Account Number</option>         
                    </select>
                    <label id="project_type-error" class="error" for="project_type" style="display:none"></label>
                    </div>

                    <div class="col-sm-12 col-xs-12 col-md-4 col-lg-4">
                    <label class="label"><span class="text-danger"></span></label>
                    <!-- <select id="project" name="project" class="form-control" onchange="selectPlot(this.value,1)">
                    <option value="">Select Project</option>
                    </select> -->
                    <!-- <label id="project-error" class="error" for="project" style="display:none"></label> -->
                   
                        <div class="form-group   mt-2">
                          <input type="text"  placeholder="Fraud" name="fraud" class="form-control">
                        </div>
                       
                   

                    
                    </div>

                    <div class="col-sm-12 col-xs-12 col-md-4 col-lg-4">
                    <label class="label"><span class="text-danger"></span></label>
                    <!-- <select id="plot" name="plot" class="form-control" onchange="plotDetail(this.value,1)">
                    <option value="">Select Plot</option>
                    </select> -->
                    <!-- <label id="plot-error" class="error" for="plot" style="display:none"></label> -->
                    <!-- <button type="submit" class="btn btn-primary mt-3">Submit</button> -->
                     <div>
                        <button type="submit" class="btn btn-info mt-2">Save</button>
                     </div>
                   
                    </div>
                    </form>
                </div>

                {% if error_message %}
                <div style="color: crimson;">{{ error_message }}</div>
                {% endif %}
                <div id="product_details">
                </div>
                </form>
                </div>
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-12">
            <div class="card card-success card-outline">
                <div class="card-header">
                    <h3 class="card-title"> Upload Statement List</h3>
                </div>
                <!-- /.card-header -->
                <div class="card-body">
                    <div class="table-responsive">

                    <table id="example" class="table table-bordered table-striped">

                        <thead>
                            <tr>
                                <th style="width: 5%;">Sr.No</th>
                                <th style="width: 15%;">Fraud Type</th>
                                <th style="width: 50%;">Fraud Details</th>
                                <th style="width: 15%;">User</th>
                                <th style="width: 15%;">Date</th>
                            </tr>
                        </thead>

                        <tbody>
                            {% for data in fraud_list %}
                                <tr>
                                    <td>
                                        {{ data.id }}
                                    </td>
                                    <td>
                                        {{ data.fraud_type }}
                                    </td>
                                    <td>
                                        {{ data.fraud_description }}
                                    </td>
                                    <td>
                                        {{ data.user.username }}
                                    </td>
                                    <td>
                                        {{ data.date_reported }}
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>


                        <tfoot>
                                <tr>
                                    <td colspan="12">
                                        <div class="pull-right"></div>
                                    </td>
                                </tr>
                        </tfoot>

                    </table>


                    </div>
                </div>
            </div>
        </div>
    </div>





    <script>
        var BV_CONST = 12500;
        function plotDetail(plot){
            var html='';
            var base_url='https://backoffice.mirrikh.com/';
            $.ajax({
                url  :'https://backoffice.mirrikh.com/user/Plot_Request/plot_detail',
                type : 'post',
                data : {plot : plot },
                dataType: 'json',
                beforeSend: function(){
                    $(".loader").css('display','block');
                },
                complete: function(){
                    $(".loader").css('display','none');
                },
                success: function(response) {
                    if(response.response==true){
                        html+='<div class="row mt-15">';
                        $.each(response.data.plot_detail, function (key, val) {
                            html+='<div class="col-md-4 col-lg-4 col-sm-12 col-xs-12">';
                        html+='<div class="card card-success card-outline">';
                        html+='<div class="card-header">';
                        html+='<h3 class="card-title">'+val.project_type +" Open Plot Size "+val.plot_size +" Sq. Yard"+" "+ "["+val.plot_no+"]"+'</h3>';
                        html+='</div>';
                        html+='<div class="card-body">';

                        html+='<div class="row">';
                        html+='<b>Description: </b>'+val.project_type +" Open Plot Size "+val.plot_size +" Sq. Yard"+" "+ "["+val.plot_no+"]";
                        html+='</div>';

                        html+='<div class="row">';
                        html+='<b>Price: </b>'+val.amount;
                        html+='</div>';

                        html+='<input type="hidden" id="project_id'+val.id+'" name="project_id'+val.id+'" value="'+val.pro_id+'">';
                        html+='<input type="hidden" id="project_type'+val.id+'" name="project_type'+val.id+'" value="'+val.pro_type+'">';
                        // html+='<input type="radio" id="bpi_cb" name="bpi_cb"  value="0">';
                        // html+='<label for="use_pin_checkbox_1"> BPI</label>';
                        // html+='<input type="radio" id="bpi_cb" name="bpi_cb"  value="1">';
                        // html+='<label for="use_pin_checkbox_1"> Cashback</label>';
                        // html+='<input type="checkbox" id="use_pin_checkbox_'+val.id+'" name="use_pin_checkbox" onclick="displayPinInput('+val.id+')" value="">';
                        // html+='<label for="use_pin_checkbox_1"> Use Pin</label>';
                        html += '<div>'; 
                        html += '<input type="radio" id="bpi_cb" name="bpi_cb" value="0">';
                        html += '<label for="bpi" style="margin-left: 5px;"> BPI</label>';
                        
                        html += '<input type="radio" id="bpi_cb" name="bpi_cb" value="1"  style="margin-left: 20px;">';
                        html += '<label for="cb" style="margin-left: 5px;"> Cashback</label>';
                        html+='<label id="bpi_cb-error'+val.id+'" class="error" for="type" style="display:none"></label>';

                        html += '</div>'; 

                        html += '<div>'; 
                        html += '<input type="checkbox" id="use_pin_checkbox_'+val.id+'" name="use_pin_checkbox" onclick="displayPinInput('+val.id+')" value="">';
                        html += '<label for="use_pin_checkbox_1" style="margin-left: 5px;"> Use Pin</label>';
                        html += '</div>'; 

                 
                        html+='<div style="display:none" id="'+val.id+'" class="row pin_input_'+val.id+'">';
                        html+='<label class="label">Pin Number:<span class="text-danger">*</span></label>';
                        html+='<input type="text" value="" class="form-control " disabled name="pin_number" id="pin_number_'+val.id+'" placeholder="Enter Pin Number" autocomplete="off">';
                        html+='<label id="pin_number-error'+val.id+'" class="error" for="type" style="display:none"></label>';
                        html+='<label class="label">Suggested Pin:</label><br>';
                        $.each(response.data.suggested_pin, function (key, s_pin) {

                            html+='<button type="button" onclick=appendPin("'+s_pin.pin+'",'+val.id+','+s_pin.amount+') value="'+ s_pin.pin +'">'+s_pin.pin+'<br>';

                        });

                        html+='</div>';

                        html+='<input type="hidden" class="form-control" placeholder="Amount" name="amount'+val.id+'" id="amount'+val.id+'" value="'+val.amount+'" >';

                        html+='<input type="hidden" class="form-control" placeholder="product id" name="product_id'+val.id+'" id="product_id'+val.id+'" value="'+val.id+'" >';


                        html+='<div class="row">';
                        html+='<label class="label">Advance Amount:<span class="text-danger">*</span></label>';
                        html+='<input type="text" value="" class="form-control " name="advance_amount'+val.id+'" id="advance_amount'+val.id+'" placeholder="Advance Amount" autocomplete="off" onblur="noOfEMII('+val.id+')" >';
                        html+='<label id="advance_amount-error'+val.id+'" class="error" for="type" style="display:none"></label>';
                        html+='</div>';

                        html+='<div class="row">';
                        html+='<label class="label">Emi Amount:<span class="text-danger">*</span></label>';
                        html+='<input type="text" value="12500" class="form-control " name="emi_amount'+val.id+'" id="emi_amount'+val.id+'" placeholder="Emi amount" autocomplete="off"  readonly onblur="noOfEMII('+val.id+')">';
                        html+='<label id="emi_amount-error'+val.id+'" class="error" for="type" style="display:none"></label>';
                        html+='</div>';

                        html+='<div class="row" style="display:none" id="divnoofemi">';
                         html+='<label class="label">No Of EMI<span class="text-danger">*</span></label>';
                         html+='<input type="text" value="" class="form-control " name="no_of_emi'+val.id+'" id="no_of_emi'+val.id+'" placeholder="No Of EMI" autocomplete="off" readonly>';
                         html+='</div>';

                        html+='<div id="payment_mode_input'+val.id+'" class="row">';
                        html+='<label>Payment Mode: <span class="text-danger">*</span></label>'; 
                        html+='<select class="form-control" id="payment_mode'+val.id+'" name="payment_mode'+val.id+'"  onchange="ChangePaymentMode(this.value,'+val.id+')">';
                        html+='<option value="">Select mode</option>';
                        html+='<option value="bank">Bank</option>';
                        html+='<option value="cash">Cash</option>';
                        html+='</select>';
                        html+='<label id="payment_mode-error'+val.id+'" class="error" for="type" style="display:none"></label>';
                        html+='</div>';

                        
                        html+='<div id="divbank'+val.id+'" style="display:none">';

                            html+='<div class="row">';
                            html+='<label  class="form-label" >Transaction Type<span class="text-danger">*</span></label>';
                            html+='<div>';

                            html+='<br/>';
                            html+='<input type="radio" value="transfer" class="trans'+val.id+'" name="tans_type'+val.id+'" onclick="showreference(this.value,'+val.id+')"> Transfer';
                            html+='<input type="radio"  class="trans'+val.id+'" value="cheque" name="tans_type'+val.id+'" onclick="showreference(this.value,'+val.id+')"  > Cheque';

                            html+='</div>';
                            html+='<br/>';
                            html+='<label id="tans_type-error'+val.id+'" class="error" for="type" style="display:none"></label>';
                            html+='</div>';

                            html+='<div class="row" id="divreferenceno'+val.id+'" style="display:none">';
                            html+='<label  class="form-label" >Reference Number<span class="text-danger">*</span></label>';

                            html+='<input type="text" class="form-control"  name="reference_id'+val.id+'" id="reference_id'+val.id+'"  placeholder="Reference Number">';
                            html+='<label id="reference_id-error'+val.id+'" class="error" for="type" style="display:none"></label>';

                            html+='</div>';

                            html+='<div class="row" id="divchequeno'+val.id+'" style="display:none" >';
                            html+='<label  class="form-label" >Cheque no<span class="text-danger">*</span></label>';

                            html+='<input type="text" class="form-control"  name="chequeno'+val.id+'" id="chequeno'+val.id+'"  placeholder="Cheque no">';
                            html+='<label id="chequeno-error'+val.id+'" class="error" for="type" style="display:none"></label>';

                            html+='</div>';

                        html+='</div>';

                        html+='<div id="transaction_date1_div'+val.id+'" class="row">';
                        html+='<label class="label">Transaction Date:<span class="text-danger">*</span></label>';
                        html+='<input type="text" value="" class="form-control demoDate" name="transaction_date1'+val.id+'" id="transaction_date1'+val.id+'" placeholder="Transaction Date" autocomplete="off" readonly>';
                        html+='<label id="transaction_date1-error'+val.id+'" class="error" for="type" style="display:none"></label>';
                        html+='</div>';
                        

                        html+='<div id="txn_proof_image_div'+val.id+'" class="row">';
                        html+='<label class="form-label">Payment Receipt<span class="text-danger">*</span></label>';
                        html+='<input type="file" name="txn_proof_image'+val.id+'" id="txn_proof_image'+val.id+'" class="form-control" />';
                        html+='<label id="txn_proof_image-error'+val.id+'" class="error" for="type" style="display:none"></label>';
                        html+='</div>';


                        html+='<div class="row mt-15 ">';
                                                    html+='<button type="button" style="border-radius: 0 !important ;" id="buy_package'+val.id+'" name="buy_package" class="btn btn-primary btn-lg btn-block" onclick="sendrequest('+val.id+')" >Request</button>';

                                                html+='</div>';


                        html+='</div>';
                        html+='</div>';
                        html+='</div>';
                    });
                        html+='</div>';
                        $("#btnrequest").css('display','none');
                        $("#product_details").html(html);

                        $('.demoDate').datepicker({
                            maxDate: new Date() ,
                            endDate: "today",
                            format: "dd-mm-yyyy",
                            orientation: "bottom auto",
                            autoclose: true,
                            todayHighlight: true
                        });

                        $('.image-popup-vertical-fit').magnificPopup({
                                type: 'image',
                                closeOnContentClick: true,
                                mainClass: 'mfp-img-mobile',
                                image: {
                                verticalFit: true
                                }
                        });

                      $('.image-popup-fit-width').magnificPopup({
                                type: 'image',
                                closeOnContentClick: true,
                                image: {
                                verticalFit: false
                                }
                      });

                      $('.image-popup-no-margins').magnificPopup({
                            type: 'image',
                            closeOnContentClick: true,
                            closeBtnInside: false,
                            fixedContentPos: true,
                            mainClass: 'mfp-no-margins mfp-with-zoom', // class to remove default margin from left and right side
                            image: {
                            verticalFit: true
                            },
                            zoom: {
                            enabled: true,
                            duration: 300 // don't foget to change the duration also in CSS
                            }
                      });

                }else{
                    $("#btnrequest").css('display','none');
                    $("#product_details").html('<div class="row mt-15"  ><div class="col-md-12 col-lg-12 col-sm-12 col-xs-12" ><span class="alert alert-danger btn-block">'+response.message+'</span></div></div>');
                }
            }
            });

                $("#btnpinrequest").prop('disabled',true);
                    
                        }
           
    // function selectType(type){

    //     if(type==1){

    //         var html='';
    //         var base_url='https://backoffice.mirrikh.com/';
    //         $.ajax({
    //         url  :'https://backoffice.mirrikh.com/user/Plot_Request/products',
    //         type : 'post',
    //         data : {type : type },
    //         dataType: 'json',
    //         beforeSend: function(){
    //             $(".loader").css('display','block');
    //         },
    //         complete: function(){
    //             $(".loader").css('display','none');
    //         },
    //         success: function(response) {
    //             if(response.response==true){
    //                 html+='<div class="row mt-15">';


    //                 $.each(response.data.products, function (key, val) {
                       
    //                     html+='<div class="col-md-4 col-lg-4 col-sm-12 col-xs-12">';
    //                     html+='<div class="card card-success card-outline">';
    //                     html+='<div class="card-header">';
    //                     html+='<h3 class="card-title">'+val.name+'</h3>';
    //                     html+='</div>';
    //                     html+='<div class="card-body">';
                        
                        

    //                     html+='<div class="row">';
    //                     html+='<b>Description: </b>'+val.description;
    //                     html+='</div>';

    //                     html+='<div class="row">';
    //                     html+='<b>Price: </b>'+val.mrp;
    //                     html+='</div>';
                        
    //                     html+='<input type="checkbox" id="use_pin_checkbox_'+val.id+'" name="use_pin_checkbox" onclick="displayPinInput('+val.id+')" value="">';
    //                     html+='<label for="use_pin_checkbox_1"> Use Pin</label>';
                 
    //                     html+='<div style="display:none" id="'+val.id+'" class="row pin_input_'+val.id+'">';
    //                     html+='<label class="label">Pin Number:<span class="text-danger">*</span></label>';
    //                     html+='<input type="text" value="" class="form-control " disabled name="pin_number" id="pin_number_'+val.id+'" placeholder="Enter Pin Number" autocomplete="off">';
    //                     html+='<label id="pin_number-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                     html+='<label class="label">Suggested Pin:</label><br>';
    //                     $.each(response.data.suggested_pin, function (key, s_pin) {

    //                         html+='<button type="button" onclick=appendPin("'+s_pin.pin+'",'+val.id+','+s_pin.amount+') value="'+ s_pin.pin +'">'+s_pin.pin+'<br>';

    //                     });

    //                     html+='</div>';
    //                     html+='<input type="hidden" class="form-control" placeholder="Amount" name="amount'+val.id+'" id="amount'+val.id+'" value="'+val.mrp+'" >';

    //                     html+='<input type="hidden" class="form-control" placeholder="product id" name="product_id'+val.id+'" id="product_id'+val.id+'" value="'+val.id+'" >';


    //                     html+='<div class="row">';
    //                     html+='<label class="label">Advance Amount:<span class="text-danger">*</span></label>';
    //                     html+='<input type="text" value="" class="form-control " name="advance_amount'+val.id+'" id="advance_amount'+val.id+'" placeholder="Advance Amount" autocomplete="off" onblur="noOfEMII('+val.id+')" >';
    //                     html+='<label id="advance_amount-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                     html+='</div>';

    //                     html+='<div class="row">';
    //                     html+='<label class="label">Emi Amount:<span class="text-danger">*</span></label>';
    //                     html+='<input type="text" value="10000" class="form-control " name="emi_amount'+val.id+'" id="emi_amount'+val.id+'" placeholder="Emi amount" autocomplete="off"  readonly onblur="noOfEMII('+val.id+')">';
    //                     html+='<label id="emi_amount-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                     html+='</div>';

    //                     html+='<div class="row" style="display:none" id="divnoofemi">';
    //                      html+='<label class="label">No Of EMI<span class="text-danger">*</span></label>';
    //                      html+='<input type="text" value="" class="form-control " name="no_of_emi'+val.id+'" id="no_of_emi'+val.id+'" placeholder="No Of EMI" autocomplete="off" readonly>';
    //                      html+='</div>';

    //                     html+='<div id="payment_mode_input'+val.id+'" class="row">';
    //                     html+='<label>Payment Mode: <span class="text-danger">*</span></label>'; 
    //                     html+='<select class="form-control" id="payment_mode'+val.id+'" name="payment_mode'+val.id+'"  onchange="ChangePaymentMode(this.value,'+val.id+')">';
    //                     html+='<option value="">Select mode</option>';
    //                     html+='<option value="bank">Bank</option>';
    //                     html+='<option value="cash">Cash</option>';
    //                     html+='</select>';
    //                     html+='<label id="payment_mode-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                     html+='</div>';

                        
    //                     html+='<div id="divbank'+val.id+'" style="display:none">';

    //                         html+='<div class="row">';
    //                         html+='<label  class="form-label" >Transaction Type<span class="text-danger">*</span></label>';
    //                         html+='<div>';

    //                         html+='<br/>';
    //                         html+='<input type="radio" value="transfer" class="trans'+val.id+'" name="tans_type'+val.id+'" onclick="showreference(this.value,'+val.id+')"> Transfer';
    //                         html+='<input type="radio"  class="trans'+val.id+'" value="cheque" name="tans_type'+val.id+'" onclick="showreference(this.value,'+val.id+')"  > Cheque';

    //                         html+='</div>';
    //                         html+='<br/>';
    //                         html+='<label id="tans_type-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                         html+='</div>';

    //                         html+='<div class="row" id="divreferenceno'+val.id+'" style="display:none">';
    //                         html+='<label  class="form-label" >Reference Number<span class="text-danger">*</span></label>';

    //                         html+='<input type="text" class="form-control"  name="reference_id'+val.id+'" id="reference_id'+val.id+'"  placeholder="Reference Number">';
    //                         html+='<label id="reference_id-error'+val.id+'" class="error" for="type" style="display:none"></label>';

    //                         html+='</div>';

    //                         html+='<div class="row" id="divchequeno'+val.id+'" style="display:none" >';
    //                         html+='<label  class="form-label" >Cheque no<span class="text-danger">*</span></label>';

    //                         html+='<input type="text" class="form-control"  name="chequeno'+val.id+'" id="chequeno'+val.id+'"  placeholder="Cheque no">';
    //                         html+='<label id="chequeno-error'+val.id+'" class="error" for="type" style="display:none"></label>';

    //                         html+='</div>';

    //                     html+='</div>';

                       

    //                     html+='<div id="transaction_date1_div'+val.id+'" class="row">';
    //                     html+='<label class="label">Transaction Date:<span class="text-danger">*</span></label>';
    //                     html+='<input type="text" value="" class="form-control demoDate" name="transaction_date1'+val.id+'" id="transaction_date1'+val.id+'" placeholder="Transaction Date" autocomplete="off" readonly>';
    //                     html+='<label id="transaction_date1-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                     html+='</div>';


    //                     html+='<div id="txn_proof_image_div'+val.id+'" class="row">';
    //                     html+='<label class="form-label">Payment Receipt<span class="text-danger">*</span></label>';
    //                     html+='<input type="file" name="txn_proof_image'+val.id+'" id="txn_proof_image'+val.id+'" class="form-control" />';
    //                     html+='<label id="txn_proof_image-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                     html+='</div>';

                        

    //                     html+='<div class="row mt-15 ">';
    //                         //                     html+='<button type="button" style="border-radius: 0 !important ;" id="buy_package'+val.id+'" name="buy_package" class="btn btn-primary btn-lg btn-block" onclick="sendrequest('+val.id+')" >Request</button>';

    //                         //                     html+='</div>';


    //                     html+='</div>';
    //                     html+='</div>';
    //                     html+='</div>';
                        

                        

    //                 });
    //                 html+='</div>';
    //                 $("#btnrequest").css('display','none');
    //                 $("#product_details").html(html);

    //                 $('.demoDate').datepicker({
    //                 maxDate: new Date() ,
    //                 endDate: "today",
    //                 format: "dd-mm-yyyy",
    //                 orientation: "bottom auto",
    //                 autoclose: true,
    //                 todayHighlight: true
    //                 });

    //                 $('.image-popup-vertical-fit').magnificPopup({
    //                     type: 'image',
    //                     closeOnContentClick: true,
    //                     mainClass: 'mfp-img-mobile',
    //                     image: {
    //                       verticalFit: true
    //                     }
                        
    //                   });

    //                   $('.image-popup-fit-width').magnificPopup({
    //                     type: 'image',
    //                     closeOnContentClick: true,
    //                     image: {
    //                       verticalFit: false
    //                     }
    //                   });

    //                   $('.image-popup-no-margins').magnificPopup({
    //                     type: 'image',
    //                     closeOnContentClick: true,
    //                     closeBtnInside: false,
    //                     fixedContentPos: true,
    //                     mainClass: 'mfp-no-margins mfp-with-zoom', // class to remove default margin from left and right side
    //                     image: {
    //                       verticalFit: true
    //                     },
    //                     zoom: {
    //                       enabled: true,
    //                       duration: 300 // don't foget to change the duration also in CSS
    //                     }
    //                   });

    //             }else{
    //                 $("#btnrequest").css('display','none');
    //                 $("#product_details").html('<div class="row mt-15"  ><div class="col-md-12 col-lg-12 col-sm-12 col-xs-12" ><span class="alert alert-danger btn-block">'+response.message+'</span></div></div>');
    //             }
    //         }
    //         });

    //         $("#btnpinrequest").prop('disabled',true);
           

    //     }else{

    //         var html='';
    //         var base_url='https://backoffice.mirrikh.com/';
    //         $.ajax({
    //         url  :'https://backoffice.mirrikh.com/user/Plot_Request/products',
    //         type : 'post',
    //         data : {type : type },
    //         dataType: 'json',
    //         beforeSend: function(){
    //             $(".loader").css('display','block');
    //         },
    //         complete: function(){
    //             $(".loader").css('display','none');
    //         },
    //         success: function(response) {
    //             if(response.response==true){
    //                 html+='<div class="row mt-15">';


    //                 $.each(response.data.products, function (key, val) {
                       
    //                     html+='<div class="col-md-4 col-lg-4 col-sm-12 col-xs-12">';
    //                     html+='<div class="card card-success card-outline">';
    //                     html+='<div class="card-header">';
    //                     html+='<h3 class="card-title">'+val.name+'</h3>';
    //                     html+='</div>';
    //                     html+='<div class="card-body">';
                        
    //                     html+='<div class="row">';

                        
                        
    //                         html+='<div class="image_zoom">';
    //                         html+='<a class="image-popup-vertical-fit" href="'+base_url+''+val.image+'" title="'+val.name+'">';
    //                         html+='<img src="'+base_url+''+val.image+'" class="img-fluid"  >';
    //                         html+='</a>';
    //                         html+='</div>';

                       
                    
    //                     html+='</div>';

    //                     html+='<div class="row">';
    //                     html+='<b>Description: </b>'+val.description;
    //                     html+='</div>';

    //                     html+='<div class="row">';
    //                     html+='<b>Price: </b>'+val.mrp;
    //                     html+='</div>';

    //                     html+='<input type="hidden" class="form-control" placeholder="Amount" name="amount'+val.id+'" id="amount'+val.id+'" value="'+val.mrp+'" >';

    //                     html+='<input type="hidden" class="form-control" placeholder="product id" name="product_id'+val.id+'" id="product_id'+val.id+'" value="'+val.id+'" >';

    //                     html+='<div class="row">';
    //                     html+='<label>Payment Mode: <span class="text-danger">*</span></label>'; 
    //                     html+='<select class="form-control" id="payment_mode'+val.id+'" name="payment_mode'+val.id+'"  onchange="ChangePaymentMode(this.value,'+val.id+')">';
    //                     html+='<option value="">Select mode</option>';
    //                     html+='<option value="bank">Bank</option>';
    //                     html+='<option value="cash">Cash</option>';
    //                     html+='</select>';
    //                     html+='<label id="payment_mode-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                     html+='</div>';

                        
    //                     html+='<div id="divbank'+val.id+'" style="display:none">';

    //                         html+='<div class="row">';
    //                         html+='<label  class="form-label" >Transaction Type<span class="text-danger">*</span></label>';
    //                         html+='<div>';

    //                         html+='<br/>';
    //                         html+='<input type="radio" value="transfer" class="trans'+val.id+'" name="tans_type'+val.id+'" onclick="showreference(this.value,'+val.id+')"> Transfer';
    //                         html+='<input type="radio"  class="trans'+val.id+'" value="cheque" name="tans_type'+val.id+'" onclick="showreference(this.value,'+val.id+')"  > Cheque';

    //                         html+='</div>';
    //                         html+='<br/>';
    //                         html+='<label id="tans_type-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                         html+='</div>';

    //                         html+='<div class="row" id="divreferenceno'+val.id+'" style="display:none">';
    //                         html+='<label  class="form-label" >Reference Number<span class="text-danger">*</span></label>';

    //                         html+='<input type="text" class="form-control"  name="reference_id'+val.id+'" id="reference_id'+val.id+'"  placeholder="Reference Number">';
    //                         html+='<label id="reference_id-error'+val.id+'" class="error" for="type" style="display:none"></label>';

    //                         html+='</div>';

    //                         html+='<div class="row" id="divchequeno'+val.id+'" style="display:none" >';
    //                         html+='<label  class="form-label" >Cheque no<span class="text-danger">*</span></label>';

    //                         html+='<input type="text" class="form-control"  name="chequeno'+val.id+'" id="chequeno'+val.id+'"  placeholder="Cheque no">';
    //                         html+='<label id="chequeno-error'+val.id+'" class="error" for="type" style="display:none"></label>';

    //                         html+='</div>';

    //                     html+='</div>';

                       

    //                     html+='<div class="row">';
    //                     html+='<label class="label">Transaction Date:<span class="text-danger">*</span></label>';
    //                     html+='<input type="text" value="" class="form-control demoDate" name="transaction_date1'+val.id+'" id="transaction_date1'+val.id+'" placeholder="Transaction Date" autocomplete="off" readonly>';
    //                     html+='<label id="transaction_date1-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                     html+='</div>';


    //                     html+='<div class="row">';
    //                     html+='<label class="form-label">Payment Receipt<span class="text-danger">*</span></label>';
    //                     html+='<input type="file" name="txn_proof_image'+val.id+'" id="txn_proof_image'+val.id+'" class="form-control" />';
    //                     html+='<label id="txn_proof_image-error'+val.id+'" class="error" for="type" style="display:none"></label>';
    //                     html+='</div>';

    //                     html+='<div class="row mt-15 ">';
    //                         //                     html+='<button type="button" style="border-radius: 0 !important ;" id="buy_package'+val.id+'" name="buy_package" class="btn btn-primary btn-lg btn-block" onclick="sendrequest('+val.id+')" >Request</button>';

    //                         //                     html+='</div>';


    //                     html+='</div>';
    //                     html+='</div>';
    //                     html+='</div>';
                        

                        

    //                 });
    //                 html+='</div>';
    //                 $("#btnrequest").css('display','none');
    //                 $("#product_details").html(html);

    //                 $('.demoDate').datepicker({
    //                 maxDate: new Date() ,
    //                 endDate: "today",
    //                 format: "dd-mm-yyyy",
    //                 orientation: "bottom auto",
    //                 autoclose: true,
    //                 todayHighlight: true
    //                 });

    //                 $('.image-popup-vertical-fit').magnificPopup({
    //                     type: 'image',
    //                     closeOnContentClick: true,
    //                     mainClass: 'mfp-img-mobile',
    //                     image: {
    //                       verticalFit: true
    //                     }
                        
    //                   });

    //                   $('.image-popup-fit-width').magnificPopup({
    //                     type: 'image',
    //                     closeOnContentClick: true,
    //                     image: {
    //                       verticalFit: false
    //                     }
    //                   });

    //                   $('.image-popup-no-margins').magnificPopup({
    //                     type: 'image',
    //                     closeOnContentClick: true,
    //                     closeBtnInside: false,
    //                     fixedContentPos: true,
    //                     mainClass: 'mfp-no-margins mfp-with-zoom', // class to remove default margin from left and right side
    //                     image: {
    //                       verticalFit: true
    //                     },
    //                     zoom: {
    //                       enabled: true,
    //                       duration: 300 // don't foget to change the duration also in CSS
    //                     }
    //                   });

    //             }else{
    //                 $("#btnrequest").css('display','none');
    //                 $("#product_details").html('<div class="row mt-15"  ><div class="col-md-12 col-lg-12 col-sm-12 col-xs-12" ><span class="alert alert-danger btn-block">'+response.message+'</span></div></div>');
    //             }
    //         }
    //         });

    //         $("#btnpinrequest").prop('disabled',true);
    //     }

    // }

    function appendPin(pin, id,amount){
        $("#pin_number_"+id+"").val('');
        $("#pin_number_"+id+"").val(pin);
        $("#advance_amount"+id+"").val(amount);
    }

    function displayPinInput(id){
        $("#use_pin_checkbox_"+id+"").on('change', function() {
            if($('#use_pin_checkbox_'+id+'').is(":checked")) {  
                $(".pin_input_"+id+"").css('display','block');
                $("#payment_mode_input"+id+"").css('display','none');
                $("#transaction_date1_div"+id+"").css('display','none');
                $("#txn_proof_image_div"+id+"").css('display','none');
                $("#advance_amount"+id+"").val("12500");
                $("#advance_amount"+id+"").prop('readonly', true);
            } else {
                $(".pin_input_"+id+"").css('display','none');
                $("#payment_mode_input"+id+"").css('display','block');
                $("#transaction_date1_div"+id+"").css('display','block');
                $("#txn_proof_image_div"+id+"").css('display','block');
                $("#advance_amount"+id+"").val("");
                $("#advance_amount"+id+"").prop('readonly', false);
            }
        }) 
    }

    // function pinnumbercheck(item){
    //     var pin_number =   $('#pin_number_'+item).val();
    //     var pin_checkbox= $("#use_pin_checkbox_"+item+"").prop('checked');
    //     // var ecount=0;
    //         $.ajax({
    //             url: 'https://backoffice.mirrikh.com/user/Plot_Request/pinnumbercheck',
    //             type: 'post',
    //             data: {
    //                 pin_number: pin_number,
    //                 pin_checkbox:pin_checkbox,
    //             },
    //             dataType: 'json',
    //             success: function(response) {
                    
    //                 if(response.data == 0 )
    //                 {
    //                     // ecount++;
    //                     $('#pin_number-error'+item).css('display','block');
    //                     $('#pin_number-error'+item).html('Please Enter Valid Pin number.');
    //                     return 1;
    //                 }else if(response.data > 0 ){
    //                     // ecount==0;

    //                     $('#emi_amount-error'+item).css('display','none');
    //                     return 2;
    //                 }
    //             },
    //             error: function(er){
    //             }
    //         });
    // }

    function sendrequest(item)
    {
        if(plot!=''){
            var p_mode;
            if ($("#use_pin_checkbox_"+item+"").prop('checked')){
                p_mode = 'Pin';
            } else {
                p_mode = $("#payment_mode"+item).val();
            }

                var ecount=0;
                var bpi_cb = $("input[name='bpi_cb']:checked").val();
                var amount=$("#amount"+item).val();
                var product_id=$("#product_id"+item).val();
                var advance_amount=$("#advance_amount"+item).val();
                var emi_amount=$("#emi_amount"+item).val();
                var payment_mode= p_mode;
                var transaction_date1=$("#transaction_date1"+item).val();
                var txn_proof_image=$("#txn_proof_image"+item).val();
                var file_data = $('#txn_proof_image'+item).prop('files')[0];
                var pin_number=$("#pin_number_"+item).val();
                var chequeno=$("#chequeno"+item).val();
                var project_id=$("#project_id"+item).val();
                var project_type=$("#project_type"+item).val();


                if ($("#bpi_cb").prop('checked') == false){
                    $('#bpi_cb-error'+item).html('Please select a option');
                    $('#bpi_cb-error'+item).css('display','block');
                }else{
                    $('#bpi_cb-error'+item).html('');
                    $('#bpi_cb-error'+item).css('display','none');
                }
                

                if ($("#use_pin_checkbox_"+item+"").prop('checked') == true){
                    if(pin_number == ''){
                        ecount++;
                        $('#pin_number-error'+item).html('Pin number is required');
                        $('#pin_number-error'+item).css('display','block');
                    }
                }

                if(advance_amount==''){
                    ecount++;
                    $('#advance_amount-error'+item).html('Advance amount is required');
                    $('#advance_amount-error'+item).css('display','block');
                }else{
                    $('#advance_amount-error'+item).html('');
                    $('#advance_amount-error'+item).css('display','none');
                }

                if(advance_amount!=''){
                    if(advance_amount<=0 )
                    {
                        ecount++;
                        $('#advance_amount-error'+item).html('Please Enter Valid Advance Amount.');
                        $('#advance_amount-error'+item).css('display','block');

                    }
                }

            if(advance_amount!=''){

                if((advance_amount % BV_CONST) != 0)
                {

                    ecount++;
                    $('#advance_amount-error'+item).html('Please Enter Advance amount in multiple of '+ BV_CONST +'.');
                    $('#advance_amount-error'+item).css('display','block');
                
                    
                }else if(amount >= 100000 && advance_amount < 100000)
                {

                    ecount++;
                    $('#advance_amount-error'+item).html('Please Enter Advance amount Minimum of 100000.');
                    $('#advance_amount-error'+item).css('display','block');
                
                    
                }
            }

            if(parseInt(advance_amount) > parseInt(amount) )
            {

                ecount++;
                $('#advance_amount-error'+item).html('Please Enter Valid Advance Amount.');
                $('#advance_amount-error'+item).css('display','block');

            }
            else if(parseInt(advance_amount)==parseInt(amount)){
                emi_amount = 0;
            }
            else
            {

            if(emi_amount==''){
                ecount++;
                    $('#emi_amount-error'+item).html('EMI amount is required');
                    $('#emi_amount-error'+item).css('display','block');
                }else{
                    $('#emi_amount-error'+item).html('');
                    $('#emi_amount-error'+item).css('display','none');
                }

                if(emi_amount!=''){
                    if((emi_amount % BV_CONST) != 0)
                    {
                        ecount++;
                        $('#emi_amount-error'+item).html('Please Enter Emi amount in multiple of '+ BV_CONST +'.');
                        $('#emi_amount-error'+item).css('display','block');
                    }
                }


                if(emi_amount!=''){
                    if((emi_amount<=0) && (advance_amount < amount))
                    {
                        ecount++;
                        $('#emi_amount-error'+item).html('Please Enter Valid EMI Amount.');
                        $('#emi_amount-error'+item).css('display','block');

                    }
                }

                if(emi_amount > (amount - advance_amount) )
                {
                    ecount++;
                    $('#emi_amount-error'+item).html('Please Enter Valid EMI Amount as No of EMI can not be set.');
                    $('#emi_amount-error'+item).css('display','block');
                 
                }

                if((amount - advance_amount) % emi_amount != 0)
                {
                    ecount++;
                    $('#emi_amount-error'+item).html('Please Enter Valid EMI Amount.');
                    $('#emi_amount-error'+item).css('display','block');
                }
            }

            if ($("#use_pin_checkbox_"+item+"").prop('checked') == false){
                if(payment_mode==''){
                    ecount++;
                    $('#payment_mode-error'+item).html('Payment mode is required');
                    $('#payment_mode-error'+item).css('display','block');               
                }else{
                    $('#payment_mode-error'+item).html('');
                    $('#payment_mode-error'+item).css('display','none');
                }
            }

            if ($("#use_pin_checkbox_"+item+"").prop('checked') == false){
                if(payment_mode!=''){
                    if(payment_mode=='bank'){
                        var tras_type=$(".trans"+item+":checked").val();
                        var reference_id=$("#reference_id"+item).val();

                            
                            
                            if(tras_type=='' || tras_type===undefined){
                                ecount++;
                                $('#tans_type-error'+item).html('Transcation Type is required');
                                $('#tans_type-error'+item).css('display','block');

                            }else{
                                $('#tans_type-error'+item).html('');
                                $('#tans_type-error'+item).css('display','none');
                            }
                    }
                }  
            }

            if ($("#use_pin_checkbox_"+item+"").prop('checked') == false){
                if(tras_type!=undefined){
                    
                    if(tras_type=='transfer'){
                        reference_id=$("#reference_id"+item).val();
                        if(reference_id==''){
                        $('#reference_id-error'+item).html('Reference id is required');
                        $('#reference_id-error'+item).css('display','block');

                    }else{

                        
                       $('#reference_id-error'+item).html('');
                       $('#reference_id-error'+item).css('display','none');
                    }
                }else if(tras_type=='cheque'){
                    chequeno=$("#chequeno"+item).val();
                        if(chequeno==''){
                        $('#chequeno-error'+item).html('Cheque no is required');
                        $('#chequeno-error'+item).css('display','block');

                    }else{

                        
                       $('#chequeno-error'+item).html('');
                       $('#chequeno-error'+item).css('display','none');
                        }

                    }
                }
            }

            if ($("#use_pin_checkbox_"+item+"").prop('checked') == false){
                if(transaction_date1==''){
                    ecount++;
                    $('#transaction_date1-error'+item).html('Transaction date is required');
                    $('#transaction_date1-error'+item).css('display','block');
                }else{
                    $('#transaction_date1-error'+item).html('');
                    $('#transaction_date1-error'+item).css('display','none');
                }
            }

            if ($("#use_pin_checkbox_"+item+"").prop('checked') == false){
                if(txn_proof_image==''){
                    ecount++;
                    $('#txn_proof_image-error'+item).html('Image is required');
                    $('#txn_proof_image-error'+item).css('display','block');
                }else{
                    $('#txn_proof_image-error'+item).html('');
                    $('#txn_proof_image-error'+item).css('display','none');
                }
            }

            if ($("#use_pin_checkbox_"+item+"").prop('checked')){
                if(pin_number == ''){
                    $('#pin_number-error'+item).html('Pin number is required');
                    $('#pin_number-error'+item).css('display','block');
                }   
            }

            if(file_data!=undefined){
                var image=$('#txn_proof_image'+item).prop('files')[0].name;
                var exts = ['png','jpeg','jpg'];

                 // image size validation komal
                 if(file_data.size > 2097152){
                    ecount++;
                    $('#txn_proof_image-error'+item).css('display','block');
                    $('#txn_proof_image-error'+item).html('The image maximum size is 2MB.');
                    $("#txn_proof_image"+item).val('');
                    return false;
                }else if(file_data.size < 2097152){
                    $('#txn_proof_image-error'+item).css('display','none');
                    $('#txn_proof_image-error'+item).html('');
                }
                // end

                if(image){

                var get_ext = image.split('.');
                get_ext = get_ext.reverse();


                if ( $.inArray ( get_ext[0].toLowerCase(), exts ) > -1 ){

                } else {

                ecount++;
                $('#txn_proof_image-error'+item).css('display','block');
                $('#txn_proof_image-error'+item).html('Invalid file.');

                }


                }else{

                $('#txn_proof_image-error'+item).css('display','none');
                $('#txn_proof_image-error'+item).html('');
                }
            }

            if(ecount==0){
                var check_box_status;
                if ($("#use_pin_checkbox_"+item+"").prop('checked')){
                    var check_box_status = '1';
                } else {
                    var check_box_status = '0';
                }
    //Under maintenance

                var date = new Date();
                if (date.getFullYear() == 2024 && date.getMonth() + 1 == 4 && (date.getDate() == 13 || date.getDate() == 14)){
                    swal({
                        title: "Under Maintenance",
                        text: "Sorry, the site is currently under maintenance. Please try again on Monday.",
                        type: "info",
                        button: "OK",
                    });
                }
                else{
    //Under maintenance
            swal({
                title: 'Message',
                text: 'Are you sure you want to send Plot Request ?',
                type: 'info',
                showCancelButton: true,
                closeOnConfirm: false,
                showLoaderOnConfirm: true,
            }, function(isConfirm) {
                if (isConfirm) {


                    var form_data = new FormData();                  
                    form_data.append('file', file_data);
                    form_data.append('amount', amount);
                    form_data.append('advance_amount', advance_amount);
                    form_data.append('emi_amount', emi_amount);
                    form_data.append('product_id', product_id);
                    form_data.append('payment_mode', payment_mode);
                
                    form_data.append('transaction_date1', transaction_date1);
                    // form_data.append('type', type);
                    form_data.append('bpi_cb', bpi_cb);
                    form_data.append('tras_type', tras_type);
                    form_data.append('reference_id', reference_id);
                    form_data.append('chequeno', chequeno);
                    form_data.append('no_of_pin', 1);
                    form_data.append('pin_number',pin_number);
                    form_data.append('use_pin_checkbox',check_box_status);
                    form_data.append('project_id', project_id);
                    form_data.append('project_type', project_type);
                
                            $.ajax({
                                url  :'https://backoffice.mirrikh.com/user/Plot_Request/pinrequest',
                                type : 'post',
                                data : form_data,
                                dataType: 'json',
                                processData: false,
                                contentType: false,
                                beforeSend: function(){
                                    $(".loader").css('display','block');
                                },
                                complete: function(){
                                    $(".loader").css('display','none');
                                },
                                success: function(response) {
                                
                                    if(response.response == true){

                                        swal({
                                        title: response.message,
                                        closeOnConfirm: false,
                                        showLoaderOnConfirm: true,
                                        }, function(isConfirm){
                                            location.reload();
                                        });


                                    }else{
                                        swal({
                                        title: response.message,
                                        icon: 'warning',
                                            showLoaderOnConfirm: true,
                                        });
                                        return false;
                                    }
                                }

                            }); 
                }
            });
        }
        }



        }
    }
    // function sendrequest(item){
    //     // var plot = $("#plot").val();
    //     // alert(plot);
    //     var type=$("#type").val();

    //     if(type!=''){

    //         if(type==1){
    //             var p_mode;
    //             if ($("#use_pin_checkbox_"+item+"").prop('checked')){
    //                 p_mode = 'Pin';
    //             } else {
    //                 p_mode = $("#payment_mode"+item).val();
    //             }

    //             var ecount=0;
    //             var amount=$("#amount"+item).val();
    //             var product_id=$("#product_id"+item).val();
    //             var advance_amount=$("#advance_amount"+item).val();
    //             var emi_amount=$("#emi_amount"+item).val();
    //             var payment_mode= p_mode;
    //             var transaction_date1=$("#transaction_date1"+item).val();
    //             var txn_proof_image=$("#txn_proof_image"+item).val();
    //             var file_data = $('#txn_proof_image'+item).prop('files')[0];
    //             var pin_number=$("#pin_number_"+item).val();

    //             if ($("#use_pin_checkbox_"+item+"").prop('checked') == true){
    //                 if(pin_number == ''){
    //                     ecount++;
    //                     $('#pin_number-error'+item).html('Pin number is required');
    //                     $('#pin_number-error'+item).css('display','block');
    //                 }
    //             }


    //             // jan3
    //             if(advance_amount==''){
    //             ecount++;
    //                 $('#advance_amount-error'+item).html('Advance amount is required');
    //                 $('#advance_amount-error'+item).css('display','block');
    //             }else{
    //                 $('#advance_amount-error'+item).html('');
    //                 $('#advance_amount-error'+item).css('display','none');
    //             }

    //         if(advance_amount!=''){
    //             if(advance_amount<=0 )
    //             {

    //                 ecount++;
    //                 $('#advance_amount-error'+item).html('Please Enter Valid Advance Amount.');
    //                 $('#advance_amount-error'+item).css('display','block');

    //             }
    //          }

    //          if(advance_amount!=''){

    //             if(advance_amount % 10000 != 0)
    //             {

    //                 ecount++;
    //                 $('#advance_amount-error'+item).html('Please Enter Advance amount in multiple of 10000.');
    //                 $('#advance_amount-error'+item).css('display','block');
                
                    
    //             }
    //         }

    //         if(parseInt(advance_amount) > parseInt(amount) )
    //         {

    //             ecount++;
    //             $('#advance_amount-error'+item).html('Please Enter Valid Advance Amount.');
    //             $('#advance_amount-error'+item).css('display','block');

    //         }
    //         else if(parseInt(advance_amount)==parseInt(amount)){
    //             emi_amount = 0;
    //         }
    //         else
    //         {


    
   

    //            if(emi_amount==''){
    //             ecount++;
    //                 $('#emi_amount-error'+item).html('EMI amount is required');
    //                 $('#emi_amount-error'+item).css('display','block');
    //             }else{
    //                 $('#emi_amount-error'+item).html('');
    //                 $('#emi_amount-error'+item).css('display','none');
    //             }

    //             if(emi_amount!=''){
    //                 if(emi_amount % 10000 != 0)
    //                 {
    //                     ecount++;
    //                     $('#emi_amount-error'+item).html('Please Enter Emi amount in multiple of 10000.');
    //                     $('#emi_amount-error'+item).css('display','block');
    //                 }
    //             }


    //             if(emi_amount!=''){
    //                 if((emi_amount<=0) && (advance_amount < amount))
    //                 {
    //                     ecount++;
    //                     $('#emi_amount-error'+item).html('Please Enter Valid EMI Amount.');
    //                     $('#emi_amount-error'+item).css('display','block');

    //                 }
    //             }

    //             if(emi_amount > (amount - advance_amount) )
    //             {
    //                 ecount++;
    //                 $('#emi_amount-error'+item).html('Please Enter Valid EMI Amount as No of EMI can not be set.');
    //                 $('#emi_amount-error'+item).css('display','block');
                 
    //             }

    //             if((amount - advance_amount) % emi_amount != 0)
    //             {
    //                 ecount++;
    //                 $('#emi_amount-error'+item).html('Please Enter Valid EMI Amount.');
    //                 $('#emi_amount-error'+item).css('display','block');
    //             }
    //         }
    //         if ($("#use_pin_checkbox_"+item+"").prop('checked') == false){
    //             if(payment_mode==''){
    //                 ecount++;
    //                 $('#payment_mode-error'+item).html('Payment mode is required');
    //                 $('#payment_mode-error'+item).css('display','block');               
    //             }else{
    //                 $('#payment_mode-error'+item).html('');
    //                 $('#payment_mode-error'+item).css('display','none');
    //             }
    //         }

    //         if ($("#use_pin_checkbox_"+item+"").prop('checked') == false){
    //         if(payment_mode!=''){
    //             if(payment_mode=='bank'){
    //                 var tras_type=$(".trans"+item+":checked").val();
    //                 var reference_id=$("#reference_id"+item).val();

                        
                        
    //                     if(tras_type=='' || tras_type===undefined){
    //                         ecount++;
    //                         $('#tans_type-error'+item).html('Transcation Type is required');
    //                         $('#tans_type-error'+item).css('display','block');

    //                     }else{
    //                         $('#tans_type-error'+item).html('');
    //                         $('#tans_type-error'+item).css('display','none');
    //                     }
    //                 }
    //             }  
    //         }

    //         if ($("#use_pin_checkbox_"+item+"").prop('checked') == false){
    //             if(tras_type!=undefined){
                    
    //                 if(tras_type=='transfer'){
    //                     reference_id=$("#reference_id"+item).val();
    //                     if(reference_id==''){
    //                     $('#reference_id-error'+item).html('Reference id is required');
    //                     $('#reference_id-error'+item).css('display','block');

    //                 }else{

                        
    //                    $('#reference_id-error'+item).html('');
    //                    $('#reference_id-error'+item).css('display','none');
    //                 }
    //             }else if(tras_type=='cheque'){

    //                 chequeno=$("#chequeno"+item).val();
    //                     if(chequeno==''){
    //                     $('#chequeno-error'+item).html('Cheque no is required');
    //                     $('#chequeno-error'+item).css('display','block');

    //                 }else{

                        
    //                    $('#chequeno-error'+item).html('');
    //                    $('#chequeno-error'+item).css('display','none');
    //                 }

    //                 }
    //             }
    //        }

    //         if ($("#use_pin_checkbox_"+item+"").prop('checked') == false){
    //             if(transaction_date1==''){
    //                 ecount++;
    //                 $('#transaction_date1-error'+item).html('Transaction date is required');
    //                 $('#transaction_date1-error'+item).css('display','block');
    //             }else{
    //                 $('#transaction_date1-error'+item).html('');
    //                 $('#transaction_date1-error'+item).css('display','none');
    //             }
    //         }

    //         if ($("#use_pin_checkbox_"+item+"").prop('checked') == false){
    //             if(txn_proof_image==''){
    //                 ecount++;
    //                 $('#txn_proof_image-error'+item).html('Image is required');
    //                 $('#txn_proof_image-error'+item).css('display','block');
    //             }else{
    //                 $('#txn_proof_image-error'+item).html('');
    //                 $('#txn_proof_image-error'+item).css('display','none');
    //             }
    //         }

    //         if ($("#use_pin_checkbox_"+item+"").prop('checked')){
    //             if(pin_number == ''){
    //                 $('#pin_number-error'+item).html('Pin number is required');
    //                 $('#pin_number-error'+item).css('display','block');
    //             }   
    //         }

    //         if(file_data!=undefined){
    //             var image=$('#txn_proof_image'+item).prop('files')[0].name;
    //             var exts = ['png','jpeg','jpg'];

    //              // image size validation komal
    //              if(file_data.size > 2097152){
    //                 ecount++;
    //                 $('#txn_proof_image-error'+item).css('display','block');
    //                 $('#txn_proof_image-error'+item).html('The image maximum size is 2MB.');
    //                 $("#txn_proof_image"+item).val('');
    //                 return false;
    //             }else if(file_data.size < 2097152){
    //                 $('#txn_proof_image-error'+item).css('display','none');
    //                 $('#txn_proof_image-error'+item).html('');
    //             }
    //             // end

    //             if(image){

    //             var get_ext = image.split('.');
    //             get_ext = get_ext.reverse();


    //             if ( $.inArray ( get_ext[0].toLowerCase(), exts ) > -1 ){

    //             } else {

    //             ecount++;
    //             $('#txn_proof_image-error'+item).css('display','block');
    //             $('#txn_proof_image-error'+item).html('Invalid file.');

    //             }


    //             }else{

    //             $('#txn_proof_image-error'+item).css('display','none');
    //             $('#txn_proof_image-error'+item).html('');
    //             }
    //         }

                
    //         if(ecount==0){
    //             var check_box_status;
    //             if ($("#use_pin_checkbox_"+item+"").prop('checked')){
    //                 var check_box_status = '1';
    //             } else {
    //                 var check_box_status = '0';
    //             }
    //         swal({
    //             title: 'Message',
    //             text: 'Are you sure you want to send Plot Request ?',
    //             type: 'info',
    //             showCancelButton: true,
    //             closeOnConfirm: false,
    //             showLoaderOnConfirm: true,
    //         }, function(isConfirm) {
    //         if (isConfirm) {



    //             var form_data = new FormData();                  
    //             form_data.append('file', file_data);
    //             form_data.append('amount', amount);
    //             form_data.append('advance_amount', advance_amount);
    //             form_data.append('emi_amount', emi_amount);
    //             form_data.append('product_id', product_id);
    //             form_data.append('payment_mode', payment_mode);
               
    //             form_data.append('transaction_date1', transaction_date1);
    //             form_data.append('type', type);
    //             form_data.append('tras_type', tras_type);
    //             form_data.append('reference_id', reference_id);
    //             form_data.append('chequeno', chequeno);
    //             form_data.append('no_of_pin', 1);
    //             form_data.append('pin_number',pin_number);
    //             form_data.append('use_pin_checkbox',check_box_status);
               
    //                     $.ajax({
    //                     url  :'https://backoffice.mirrikh.com/user/Plot_Request/pinrequest',
    //                     type : 'post',
    //                     data : form_data,
    //                     dataType: 'json',
    //                     processData: false,
    //                     contentType: false,
    //                     beforeSend: function(){
    //                         $(".loader").css('display','block');
    //                     },
    //                     complete: function(){
    //                         $(".loader").css('display','none');
    //                     },
    //                     success: function(response) {
                        
    //                         if(response.response == true){

    //                             swal({
    //                             title: response.message,
    //                             closeOnConfirm: false,
    //                             showLoaderOnConfirm: true,
    //                             }, function(isConfirm){
    //                                 location.reload();
    //                             });


    //                         }else{
    //                             swal({
    //                             title: response.message,
    //                             icon: 'warning',
    //                                 showLoaderOnConfirm: true,
    //                             });
    //                             return false;
    //                         }
    //                     }

    //                     });
                        
                
    //         }
    //     });
    //     }
        
    //     }else if(type==2 || type==3){
    //         var ecount=0;
    //         var amount=$("#amount"+item).val();
    //         var product_id=$("#product_id"+item).val();
    //         var payment_mode=$("#payment_mode"+item).val();
            
    //         var transaction_date1=$("#transaction_date1"+item).val();
    //         var txn_proof_image=$("#txn_proof_image"+item).val();

    //         var file_data = $('#txn_proof_image'+item).prop('files')[0];

           

    //         var reference_id='';
    //         var tras_type ='';
    //         var chequeno ='';
    //         var e_wallet='';


    //         if(payment_mode==''){
    //             ecount++;
    //             $('#payment_mode-error'+item).html('Payment mode is required');
    //             $('#payment_mode-error'+item).css('display','block');
    //         }else{
    //             $('#payment_mode-error'+item).html('');
    //             $('#payment_mode-error'+item).css('display','none');
    //         }

    //         if(payment_mode!=''){
    //             if(payment_mode=='bank'){
    //                 var tras_type=$(".trans"+item+":checked").val();
    //                 var reference_id=$("#reference_id"+item).val();

                    
                    
    //                 if(tras_type=='' || tras_type===undefined){
    //                     ecount++;
    //                     $('#tans_type-error'+item).html('Transcation Type is required');
    //                     $('#tans_type-error'+item).css('display','block');

    //                 }else{
    //                     $('#tans_type-error'+item).html('');
    //                     $('#tans_type-error'+item).css('display','none');
    //                 }


    //             }
    //         }

            
    //         if(tras_type!=undefined){
                
    //             if(tras_type=='transfer'){
    //                 reference_id=$("#reference_id"+item).val();
    //                 if(reference_id==''){
    //                    $('#reference_id-error'+item).html('Reference id is required');
    //                    $('#reference_id-error'+item).css('display','block');

    //                 }else{

                        
    //                    $('#reference_id-error'+item).html('');
    //                    $('#reference_id-error'+item).css('display','none');
    //                 }
    //             }else if(tras_type=='cheque'){

    //                chequeno=$("#chequeno"+item).val();
    //                 if(chequeno==''){
    //                    $('#chequeno-error'+item).html('Cheque no is required');
    //                    $('#chequeno-error'+item).css('display','block');

    //                 }else{

                        
    //                    $('#chequeno-error'+item).html('');
    //                    $('#chequeno-error'+item).css('display','none');
    //                 }

    //             }
    //        }

            


    //         if(transaction_date1==''){
    //             ecount++;
    //             $('#transaction_date1-error'+item).html('Transaction date is required');
    //             $('#transaction_date1-error'+item).css('display','block');
    //         }else{
    //             $('#transaction_date1-error'+item).html('');
    //             $('#transaction_date1-error'+item).css('display','none');
    //         }


    //         if(txn_proof_image==''){
    //             ecount++;
    //             $('#txn_proof_image-error'+item).html('Image is required');
    //             $('#txn_proof_image-error'+item).css('display','block');
    //         }else{
    //             $('#txn_proof_image-error'+item).html('');
    //             $('#txn_proof_image-error'+item).css('display','none');
    //         }

    //     if(file_data!=undefined){
    //             var image=$('#txn_proof_image'+item).prop('files')[0].name;
    //             var exts = ['png','jpeg','jpg'];
    //          // image size validation komal
    //          if(file_data.size > 2097152){
    //                 ecount++;
    //                 $('#txn_proof_image-error'+item).css('display','block');
    //                 $('#txn_proof_image-error'+item).html('The image maximum size is 2MB.');
    //                 $("#txn_proof_image"+item).val('');
    //                 return false;
    //             }else if(file_data.size < 2097152){
    //                 $('#txn_proof_image-error'+item).css('display','none');
    //                 $('#txn_proof_image-error'+item).html('');
    //             }
    //             // end

    //         if(image){

    //             var get_ext = image.split('.');
    //             get_ext = get_ext.reverse();


    //             if ( $.inArray ( get_ext[0].toLowerCase(), exts ) > -1 ){

    //             } else {

    //             ecount++;
    //             $('#txn_proof_image-error'+item).css('display','block');
    //             $('#txn_proof_image-error'+item).html('Invalid file.');

    //             }


    //             }else{

    //             $('#txn_proof_image-error'+item).css('display','none');
    //             $('#txn_proof_image-error'+item).html('');
    //             }
    //         }


    //         if(ecount==0){

                 
    //             var form_data = new FormData();                  
    //             form_data.append('file', file_data);
    //             form_data.append('amount', amount);
    //             form_data.append('product_id', product_id);
    //             form_data.append('payment_mode', payment_mode);
               
    //             form_data.append('transaction_date1', transaction_date1);
    //             form_data.append('type', type);
    //             form_data.append('tras_type', tras_type);
    //             form_data.append('reference_id', reference_id);
    //             form_data.append('chequeno', chequeno);
    //             form_data.append('no_of_pin', 1);
    //             form_data.append('pin_number', payment_mode);

                    

    //             swal({
    //             title: "Message",
    //             text: 'Are you sure you want to send Product Request ?',
    //             type: 'info',
    //             showCancelButton: true,
    //             closeOnConfirm: false,
    //             showLoaderOnConfirm: true,
    //         }, function(isConfirm) {
    //         if (isConfirm) {
    //             $("#buy_package"+item).prop('disabled',true);
               
    //                     $.ajax({
    //                     url  :'https://backoffice.mirrikh.com/user/Plot_Request/pinrequest',
    //                     type : 'post',
    //                     data : form_data,
    //                     dataType: 'json',
    //                     processData: false,
    //                     contentType: false,
    //                     beforeSend: function(){
    //                         $(".loader").css('display','block');
    //                     },
    //                     complete: function(){
    //                         $(".loader").css('display','none');
    //                     },
    //                     success: function(response) {
                        
    //                         if(response.response == true){

    //                             swal({
    //                             title: response.message,
    //                             closeOnConfirm: false,
    //                             showLoaderOnConfirm: true,
    //                             }, function(isConfirm){
    //                                 location.reload();
    //                             });


    //                         }else{
    //                             swal({
    //                             title: response.message,
    //                             icon: 'warning',
    //                                 showLoaderOnConfirm: true,
    //                             });
    //                             return false;
    //                         }
    //                     }

    //                     });
                        
                
    //         }
    //     });
                

    //         }else{
    //             return false;
    //         }

    //     }
        
    //     }else{
    //         $("#type-error").html('Type is required.')
    //         $("#type-error").css('display','block');
    //     }
    // }

    function ChangePaymentMode(item,id){
     if(item=="bank"){
        $("#divbank"+id).css('display','block');
        $("#divbankcash"+id).css('display','block');
         $("#divewallet"+id).css('display','none');
     }else if(item=='cash'){
        $("#divbank"+id).css('display','none');
        $("#divbankcash"+id).css('display','block');
         $("#divewallet"+id).css('display','none');
     }
    }

    function showreference(item,id){
        if(item=='transfer'){
            $("#divreferenceno"+id).css('display','block');
            $("#divchequeno"+id).css('display','none');
        }else{
            $("#divreferenceno"+id).css('display','none');
            $("#divchequeno"+id).css('display','block'); 
        }
    }
    function noOfEMII(item){
        var advance_amount=$("#advance_amount"+item).val();
        var emi_amount=$("#emi_amount"+item).val();
        var amount=$("#amount"+item).val();
        var ecount=0;


        if(advance_amount!=''){
            if(parseInt(advance_amount)>parseInt(amount)){
                ecount++;
                $('#advance_amount-error'+item).html('Please enter valid amount.');
                $('#advance_amount-error'+item).css('display','block');
            }

            if((advance_amount % BV_CONST) != 0)
            {

                ecount++;
                $('#advance_amount-error'+item).html('Please Enter Advance amount in multiple of '+ BV_CONST +'.');
                $('#advance_amount-error'+item).css('display','block');
            
                
            }else{
                $('#advance_amount-error'+item).html('');
                $('#advance_amount-error'+item).css('display','none');

            }



            if(parseInt(advance_amount) > parseInt(amount) )
            {

                ecount++;
                $('#advance_amount-error'+item).html('Please Enter Valid Advance Amount.');
                $('#advance_amount-error'+item).css('display','block');

            }
            else if(parseInt(advance_amount)==parseInt(amount)){
                emi_amount = 0;
            }
            else
            {


    
   

               if(emi_amount==''){
                ecount++;
                    $('#emi_amount-error'+item).html('EMI amount is required');
                    $('#emi_amount-error'+item).css('display','block');
                }else{
                    $('#emi_amount-error'+item).html('');
                    $('#emi_amount-error'+item).css('display','none');
                }

                if(emi_amount!=''){
                    if((emi_amount % BV_CONST) != 0)
                    {
                        ecount++;
                        $('#emi_amount-error'+item).html('Please Enter Emi amount in multiple of '+ BV_CONST +'.');
                        $('#emi_amount-error'+item).css('display','block');
                    }
                }


                if(emi_amount!=''){
                    if((emi_amount<=0) && (advance_amount < amount))
                    {
                        ecount++;
                        $('#emi_amount-error'+item).html('Please Enter Valid EMI Amount.');
                        $('#emi_amount-error'+item).css('display','block');

                    }
                }

                if(emi_amount > (amount - advance_amount) )
                {
                    ecount++;
                    $('#emi_amount-error'+item).html('Please Enter Valid EMI Amount as No of EMI can not be set.');
                    $('#emi_amount-error'+item).css('display','block');
                 
                }

                if(emi_amount!='' && (amount - advance_amount) % emi_amount != 0)
                {
                    ecount++;
                    $('#emi_amount-error'+item).html('Please Enter Valid EMI Amount.');
                    $('#emi_amount-error'+item).css('display','block');
                }
            }
        }else{
            ecount++;
            $('#advance_amount-error'+item).html('advance amount is required.');
            $('#advance_amount-error'+item).css('display','block');
        }



        if(ecount==0){
            if(parseInt(advance_amount)==parseInt(amount)){
             $("#emi_amount"+item).val(0);   
            $("#divnoofemi").css('display','block');
            $('#no_of_emi'+item).val(0);
            }else{
                var noofemi=(parseInt(amount)-parseInt(advance_amount))/parseInt(emi_amount); 
            $("#divnoofemi").css('display','block');
            $('#no_of_emi'+item).val(noofemi);
            }
            
        }else{
             $("#divnoofemi").css('display','none');
            $('#no_of_emi'+item).val(0);
        }
    }


    function selectProjectType(item,type){
    var id=item;
    var html='';
    $.ajax({
            url: "https://backoffice.mirrikh.com/user/Plot_Request/project",
            method : 'post',
            data: {id:id},
            dataType:'JSON',
            beforeSend: function(){
                $(".loader").css('display','block');
            },
            complete: function(){
            $(".loader").css('display','none');
            },
            success:function(data){
                    html+='<option value="" >Select Project</option>';
                $.each(data.project, function(key,value){
                    html+='<option value='+value.id+'>';
                    html+=value.project_name;
                    html+='</option>';
                    
                });

                $('#project').html(html);
                $("#project").prop('disabled',false);

                // if(type==0){
                //         $('#project').val("");
                // }

                }
                });

        }

    function selectPlot(item,type){
    var id=item;
    var html='';

    $.ajax({
            url: "https://backoffice.mirrikh.com/user/Plot_Request/plot",
            method : 'post',
            data: {id:id},
            dataType:'JSON',
            beforeSend: function(){
                $(".loader").css('display','block');
            },
            complete: function(){
            $(".loader").css('display','none');
            },
            success:function(data){
                    html+='<option value="" >Select Plot</option>';
                $.each(data.plot, function(key,value){
                    html+='<option value='+value.id+'>';
                    html+=value.plot_no + "-" + value.plot_size + "-" + value.amount;
                    html+='</option>';
                    
                });

                $('#plot').html(html);
                $("#plot").prop('disabled',false);

                // if(type==0){
                //         $('#project').val("");
                //     }

                }
                });

        }


        </script>

        </section>
<script type="text/javascript">
    function myFunction() {
    var copyText = document.getElementById("myInput");
    copyText.select();
    copyText.setSelectionRange(0, 99999)
    document.execCommand("copy");
    // alert("Copied the text: " + copyText.value);

    swal({
              title: "Copied",
              icon: 'warning',
              text:  copyText.value,
              showLoaderOnConfirm: true,
          });
  }


</script>    

 </div>



        <!-- /.content-wrapper -->



        <footer class="main-footer">
          <div class="float-right d-none d-sm-block">
          </div>
          Copyright &copy; 2025 . All rights Reserved by <strong></strong>
        </footer>

        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
          <!-- Control sidebar content goes here -->
        </aside>
        <!-- /.control-sidebar -->




      </div>
      <!-- Site wrapper -->

<!-- Bootstrap 4 -->


      

      <!-- <script src="https://backoffice.mirrikh.com/assets/theme/plugins/bootstrap/js/bootstrap.bundle.min.js"></script> -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
      

      <script src="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/3.2.0/js/adminlte.min.js"></script>
   <!-- <script src="https://backoffice.mirrikh.com/assets/theme/dist/js/adminlte.min.js"></script>   -->

    
  <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.20/js/jquery.dataTables.js"></script>
      <!-- <script src="https://backoffice.mirrikh.com/assets/theme/plugins/datatables/jquery.dataTables.js"></script> -->


      <!-- <script src="https://backoffice.mirrikh.com/assets/theme/plugins/datatables-bs4/js/dataTables.bootstrap4.js"></script> -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables.net-bs4/1.11.2/dataTables.bootstrap4.js"></script>


</div>
</div>
<script type="text/javascript">
  document.onreadystatechange = function() { 
  
    // if (document.readyState !== "complete") { 
    //     $(".loader").css('display','block'); 
    // } else { 
    //     $(".loader").css('display','none');
    // } 
}; 


    $(document).ready(function() {

  $('.image-popup-vertical-fit').magnificPopup({
    type: 'image',
    closeOnContentClick: true,
    mainClass: 'mfp-img-mobile',
    image: {
      verticalFit: true
    }
    
  });

  $('.image-popup-fit-width').magnificPopup({
    type: 'image',
    closeOnContentClick: true,
    image: {
      verticalFit: false
    }
  });

  $('.image-popup-no-margins').magnificPopup({
    type: 'image',
    closeOnContentClick: true,
    closeBtnInside: false,
    fixedContentPos: true,
    mainClass: 'mfp-no-margins mfp-with-zoom', // class to remove default margin from left and right side
    image: {
      verticalFit: true
    },
    zoom: {
      enabled: true,
      duration: 300 // don't foget to change the duration also in CSS
    }
  });

});
</script>
  </body>


</html>

